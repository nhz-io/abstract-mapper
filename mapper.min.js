(function(){var e,f;e={init:function(c,a){var b;this.map=c;this.target=this.parent=this.data=null;for(b in a)Object.hasOwnProperty.call(a,b)&&(this[b]=a[b])},mapper:function(c){if(this.map){var a,b,d;this.data=c;(this.map["!"]||function(){this.target=[]}).call(this);if(this.data instanceof Array)for(a=0;a<this.data.length;a+=1)c=this.data[a],b=this.clone(),b.idx=a,b.parent=this,b.mapper(c);else for(a in this.map)Object.hasOwnProperty.call(this.map,a)&&void 0!==this.data[a]&&"!"!==a&&(c=this.data[a], d=this.map[a],"function"===typeof d?d.call(this,c):(b=this.clone(),b.parent=this,b.map=d,b.mapper(c)))}return this.target},clone:function(){var c=Object.create(e);c.init(null,this);return c}};f=function(c,a){var b=Object.create(e);b.init(c,a);return function mapper(a){return b.mapper(a)}};"undefined"!==typeof module?module.exports=f:"undefined"!==typeof window&&(window.AbstractMapper=f)})();
